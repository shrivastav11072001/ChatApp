(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[520],{6719:(e,t,a)=>{Promise.resolve().then(a.bind(a,2693))},5299:(e,t,a)=>{"use strict";a.d(t,{n:()=>r,p:()=>l.A});var l=a(2651);let r=l.A.create({baseURL:"http://localhost:5000"})},7601:(e,t,a)=>{"use strict";a.d(t,{AuthProvider:()=>c,c:()=>n});var l=a(5155),r=a(2115);let s={};s=window?JSON.parse(localStorage.getItem("chat-user")):{};let n=(0,r.createContext)();function i(e,t){switch(t.type){case"SIGN_UP":let a={...t.payload};return localStorage.setItem("chat-user",JSON.stringify(a)),a;case"LOGOUT":return localStorage.removeItem("chat-user"),{};case"LOGIN":let l={...t.payload};return localStorage.setItem("chat-user",JSON.stringify(l)),l;default:return e}}let c=e=>{let{children:t}=e,[a,c]=(0,r.useReducer)(i,s);return(0,l.jsx)(n.Provider,{value:{AuthData:a,dispatch:c},children:t})}},222:(e,t,a)=>{"use strict";a.d(t,{A:()=>u});var l=a(5155);a(8173);var r=a(6046),s=a(2115),n=a(5299),i=a(7601),c=a(5037);let o=()=>{let[e,t]=(0,s.useState)(!1),{dispatch:a}=(0,s.useContext)(i.c),l=(0,r.useRouter)();return{loading:e,login:async e=>{let{username:r,password:s}=e;if(function(e){let{username:t,password:a}=e;return!!t&&!!a||(c.Ay.error("Please fill in all the fields"),!1)}({username:r,password:s})){t(!0);try{let e=await n.p.post("http://localhost:5000/auth/login",{username:r,password:s}),t=await e.data;if(a({type:"LOGIN",payload:t}),l.push("/"),t.error)throw Error(t.error)}catch(e){c.Ay.error(e.message)}finally{t(!1)}}}}},u=()=>{let[e,t]=(0,s.useState)(""),[a,n]=(0,s.useState)(""),{loading:i,login:c}=o();async function u(t){t.preventDefault(),await c({username:e,password:a})}let d=(0,r.useRouter)();return(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-w-96 mx-auto",children:(0,l.jsxs)("div",{className:"h-full w-full p-6 bg-gray-0 rounded-md bg-clip-padding backdrop-filter backdrop-blur-md bg-opacity-10 border border-gray-100",children:[(0,l.jsxs)("h1",{className:"text-3xl font-semibold text-center text-gray-300",children:["Login",(0,l.jsx)("span",{className:"text-blue-400",children:" ChatApp"})]}),(0,l.jsxs)("form",{onSubmit:u,children:[(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"label p-2",children:(0,l.jsx)("span",{className:"text-white label-text",children:"Username"})}),(0,l.jsx)("input",{type:"text",placeholder:"Enter Username",className:"w-full input input-bordered h-10",value:e,onChange:e=>t(e.target.value)})]}),(0,l.jsxs)("div",{children:[(0,l.jsx)("label",{className:"label p-2",children:(0,l.jsx)("span",{className:"text-white label-text",children:"Password"})}),(0,l.jsx)("input",{type:"password",placeholder:"Enter Password",className:"w-full input input-bordered h-10",value:a,onChange:e=>n(e.target.value)})]}),(0,l.jsxs)("a",{className:"text-sm hover:underline hover:text-blue-600 mt-2 inline-block text-white",onClick:()=>{d.push("/signup")},children:["Don't"," have an account?"]}),(0,l.jsx)("div",{children:(0,l.jsx)("button",{className:"btn btn-block btn-sm mt-2",disabled:i,children:i?(0,l.jsx)("span",{className:"loading loading-spinner"}):"Login"})})]})]})})}},2693:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});var l=a(5155);a(2115);var r=a(222);let s=()=>(0,l.jsx)("div",{className:"p-4 h-screen flex items-center justify-center",children:(0,l.jsx)(r.A,{})})}},e=>{var t=t=>e(e.s=t);e.O(0,[37,238,173,441,517,358],()=>t(6719)),_N_E=e.O()}]);